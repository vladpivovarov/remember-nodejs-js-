!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./public/",n(n.s=0)}([function(e,t,n){"use strict";var r=a(n(1)),o=a(n(2)),i=a(n(3)),u=(n(4),n(5));function a(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",function(e){r.default.init(),o.default.init(),i.default.init(),(0,u.startSearchCities)()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{init:function(){}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{init:function(){if(document.querySelector(".modal-btn")){var e=document.querySelector(".modal-btn"),t=document.querySelector(".modal"),n=document.querySelector(".form__close-btn"),r=document.querySelector(".form");e.addEventListener("click",function(e){t.classList.add("modal_active")}),n.addEventListener("click",function(e){this.closest(".modal_active").classList.remove("modal_active")}),document.addEventListener("click",function(n){if(document.querySelector(".modal_active")&&n.target!=e){var o=r.getBoundingClientRect(),i=o.top,u=o.left,a=o.right,c=o.bottom;(n.clientX<u||n.clientX>a||n.clientY<i||n.clientY>c)&&t.classList.remove("modal_active")}})}}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{init:function(){if(document.forms.modalForm){var e=document.forms.modalForm;e.addEventListener("submit",function(t){t.preventDefault();var n=new XMLHttpRequest;n.open("POST","message",!0),n.setRequestHeader("Content-Type","application/json"),n.onload=function(e){var t;try{t=JSON.parse(n.responseText)}catch(e){cb("Извините, в данных ошибка")}console.log(t.status),console.log(t.items)};var r={name:e.names.value,surname:e.surname.value,message:e.message.value};n.send(JSON.stringify(r))})}}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArgument=function(e){return e},t.defaultParameterValue=function(e){return e+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)},t.returnArgumentsArray=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t},t.returnFnResult=function(e){return e()},t.returnCounter=function(e){return e=e||0,function(){return++e}},t.bindFunction=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.bind.apply(e,[null].concat(n))},t.isAllTrue=function(e,t){if(!e.length)throw new Error("empty array");if("function"!=typeof t)throw new Error("fn is not a function");for(var n=0,r=0;r<e.length;r++)t(e[r])&&n++;return n===e.length},t.isSomeTrue=function(e,t){if("array"!=typeof e)throw new Error("empty array");if("function"!=typeof t)throw new Error("fn is not a function");for(var n=0,r=0;r<e.length;r++)t(e[r])&&n++;return!!n},t.returnBadArguments=function(e){if("function"!=typeof e)throw new Error("fn is not a function");for(var t=[],n=0;n<(arguments.length<=1?0:arguments.length-1);n++)try{e(arguments.length<=n+1?void 0:arguments[n+1])}catch(e){t.push(arguments.length<=n+1?void 0:arguments[n+1])}return t},t.calculator=function(e){if(e=e||0,isNaN(e))throw new Error("number is not a number");return{sum:function(){for(var t=0;t<arguments.length;t++)e+=arguments[t];return e},dif:function(){for(var t=0;t<arguments.length;t++)e-=arguments[t];return e},div:function(){for(var t=0,n=0;n<arguments.length;n++){if(0==arguments[n])throw new Error("division by 0");0==n?t=e/arguments[n]:t/=arguments[n]}return t},mul:function(){for(var t,n=0;n<arguments.length;n++)0==n?t=e*arguments[n]:t*=arguments[n];return t}}},t.forEach=function(e,t){for(var n=0;n<e.length;n++)t(e[n],n,e)},t.map=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r,e));return n},t.reduce=function(e,t,n){var r,o;r=!!n;for(var i=0;i<e.length;i++)r&&0===i?o=t(n,e[0]):r||0!==i?r&&i>0?o=t(o,e[i]):!r&&i>0&&null!=e[i+1]&&(o=t(o,e[i+1])):o=t(e[0],e[1]);return o},t.upperProps=function(e){var t=[];for(var n in e)t.push(e.key.toUpperCase())},t.slice=function(e,t,n){n=n||e.length;for(var r=[];t<n;)r.push(e[t]),t++;return r},t.createProxy=function(e){return new Proxy(e,{set:function(e,t,n){return e[t]=n*n,!0}})},t.createDivWithText=function(e){var t=document.createElement("div");return t.textContent=e,t},t.createAWithHref=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},t.prepend=function(e,t){t.insertBefore(e,t.firstChild)},t.findAllPSiblings=function(e){for(var t=[],n=e.children,r=0;r<n.length;r++)n[r].nextElementSibling&&"P"===n[r].nextElementSibling.tagName&&t.push(n[r]);return t},t.findError=function(e){for(var t=[],n=0;n<e.children.length;n++)t.push(e.children[n].textContent.trim());return t},t.deleteTextNodes=function(e){var t=e.childNodes;console.log("элементы до удаления текстовых узлов",t);for(var n=0;n<t.length;n++)3===t[n].nodeType&&t[n].remove();console.log("элементы после удаления текстовых узлов",e.childNodes)},t.deleteTextNodesRecursive=function e(t){for(var n=t.childNodes,r=0;r<n.length;r++)3!==n[r].nodeType?e(n[r]):n[r].remove()},t.collectDOMStat=function(e){var t={tags:{},classes:{},texts:0};return function e(n){for(var r=n.childNodes,o=0;o<r.length;o++)switch(r[o].nodeType){case 1:if(r[o].tagName in t.tags||(t.tags[r[o].tagName]=0),t.tags[r[o].tagName]+=1,r[o].classList.length>0)for(var i=0;i<r[o].classList.length;i++)r[o].classList[i]in t.classes||(t.classes[r[o].classList[i]]=0),t.classes[r[o].classList[i]]+=1;r[o].childNodes.length>0&&e(r[o]);break;case 3:t.texts+=1}return t}(e)},t.observeChildNodes=function(e,t){var n={type:"",nodes:[]};new MutationObserver(function(e){e.forEach(function(e){if(e.removedNodes.length){n.type="remove",n.nodes.length=0;for(var r=0;r<e.removedNodes.length;r++)n.nodes.push(e.removedNodes[r]);t(n)}else if(e.addedNodes.length){n.type="added",n.nodes.length=0;for(var o=0;o<e.addedNodes.length;o++)n.nodes.push(e.addedNodes[o]);t(n)}})}).observe(e,{childList:!0,subtree:!0})},t.addListener=function(e,t,n){t.addEventListener(e,n)},t.removeListener=function(e,t,n){t.removeEventListener(e,n)},t.skipDefault=function(e,t){t.addEventListener(e,function(e){return e.preventDefault()})},t.emulateClick=function(e){e.dispatchEvent(new Event("click"))},t.delegate=function(e,t){e.addEventListener("click",function(e){"BUTTON"===e.target.tagName&&t(e)})},t.once=function(e,t){e.addEventListener("click",t)},t.createDiv=function(){var e=document.getElementById("homework-container").getBoundingClientRect(),t=e.top,n=e.left,r=e.right,o=e.bottom,i=document.createElement("div"),u=v(200),a=v(200),c=v(256),s=v(256),l=v(256),f=v(r-n-u),d=v(o-t-a);function v(e){return e=e||10,Math.floor(Math.random()*e)+1}return i.setAttribute("class","draggable-div"),i.setAttribute("draggable","true"),i.style.cssText="\n\t\tposition: absolute;\n\t\ttop: "+d+"px;\n\t\tleft: "+f+"px;\n\t\tbackground: rgb("+c+","+s+","+l+"); \n\t\twidth: "+(u+20)+"px;\n\t\theight: "+(a+20)+"px;\n\t\tcursor: move;\n\t\t",i},t.delayPromise=function(e){return new Promise(function(t,n){setTimeout(function(){t()},e)})},t.loadAndSortTowns=function(){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET","https://raw.githubusercontent.com/smelukov/citiesTest/master/cities.json"),n.onload=function(){var t=JSON.parse(n.responseText),r=[],o=[];t.forEach(function(e,t){r.push(e.name)}),(r=r.sort()).forEach(function(e,t){var n={};n.name=e,o.push(n)}),e(o)},n.send()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=document.querySelector(".search__input"),o=document.querySelector(".search__status"),i=document.querySelector(".search__list"),u=[],a=[];t.startSearchCities=function(){new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET","https://raw.githubusercontent.com/smelukov/citiesTest/master/cities.json"),n.onload=function(){var t=JSON.parse(n.responseText),r=[],i=[];t.forEach(function(e,t){r.push(e.name)}),(r=r.sort()).forEach(function(e,t){var n={};n.name=e,i.push(n)}),o.textContent="",e(i)},n.send()}).then(function(e){u=e,r.addEventListener("keyup",function(e){i.innerHTML="";var t=e.target.value;t.length>1&&(a.length=0,u.forEach(function(e,n){var r,o;r=e.name.toUpperCase(),o=t.toUpperCase(),r.includes(o)&&a.push(e.name)}),i.innerHTML="",a.forEach(function(e,t){var n=document.createElement("li");n.classList.add("search__item"),n.textContent=e,i.appendChild(n)}))}),i.addEventListener("click",function(e){"LI"===e.target.tagName&&(i.innerHTML="",r.value=e.target.textContent)})})}}]);